<!DOCTYPE html>
<html lang="en">
<head>
	<title>Property Stream</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0, target-densitydpi=160"/>

	<style type="text/css">

	body {
		background-color: #ffffff;
		color:#333333;
		font-family: 'Helvetica Neue', Arial, sans-serif;
		font-family:sans-serif;
		font-size:16px;
		width:100%;
		height: 100%
		padding: 0;
		margin:0;
	}

	</style>
	
	<link type="text/css" rel="stylesheet" href="style/all.css">
	<script src="js/jquery.js" type="text/javascript"></script>

</head>
<body>
	<script>
		function loadReportImage(fn, title){
			if(!fn) return '';
			var titlehtml = '';
			if(title) titlehtml += '<p class="info-image-title">' + title + '</p>';
			return titlehtml + '<img class="info-image" width="96%" src="images/reports/propertyReport/' + fn + '"/>';
		}
		
		function getReportHtml(reportimglist){
			var htmlPropReport = '';
			
			for(var i = 0; i < reportimglist.length; i++){
				var imginfo = reportimglist[i].split('|');
				htmlPropReport += loadReportImage(imginfo[0], imginfo[1]);
			}
			
			return htmlPropReport;
		}
		
		$(document).ready(function(){
			$('.dv-report').each(function(idx, ele){
				$(ele).children('.report-button').click(function(){
					var selected = $(this);
					var sign = selected.children('.open-sign').text();
					if(sign == '+'){
						selected.siblings('.report-content').show();
						selected.children('.open-sign').text('-');
					}else{
						selected.siblings('.report-content').hide();
						selected.children('.open-sign').text('+');
					}
					return false;
				});
			});
			
			$('#lnk-view-stream').hide();
			$('#lnk-toggle-watch').click(function(){
				var cntctrl = $(this);
				var val = cntctrl.text();
				if(val == 'Stream'){
					cntctrl.html('Live Stream');
					cntctrl.removeClass("stream-off");
					$("#lnk-view-stream").show();
				}else{
					cntctrl.html('Stream');
					cntctrl.addClass("stream-off");
					$("#lnk-view-stream").hide();
				}
				return false;
			});

			$('#lnk-view-stream').click(function(){
				location.href = 'livestream.html';
				return false;
			});

//			$('#dv-detail-walkscore .report-content').html(getReportHtml([]));
			
			var rptlist = ["rp301.png", "property_details.png", "rp001.png", "rp002.png|Map Overview", "rp003.png|Zip Code View", "rp004.jpeg|Overhead View", "rp005.png|Birds-eye View", "rp006.png|Public Record", "rp007.png", "rp008.png", "assessed_value_history.png", "avm.png", "taxes_paid_history.png", "homes_near_249_maskel_road.png", "agent_attrition.png", "lead_form.png", "RDCopen house.png", "RDCproperty history.png", "RDCproperty taxes.png"];
			
			$('#dv-property-report .report-content').html(getReportHtml(rptlist));

			$('#dv-community-report .report-content').html(getReportHtml(["rp201.png", "rp202.png", "rp203.png", "rp203.png"]));

			$('#dv-school-report .report-content').html(getReportHtml(["rp101.png", "rp102.png", "rp103.png"]));
		})
	</script>
	<div id="page-header">
	</div>
	<a id="lnk-open-map" class="open-map-button" href="content.html">Map</a>
	<a id="lnk-open-stream" class="open-eye-button" href="streams.html">Streams</a>
	<div id="dv-search">
		<input type="text" name="address" class="blur-border" value="Enter Address"/>
		<a id="lnk-search" class="reversed-button" href="#">Submit</a>
	</div>
	<div id="property-summery">
	</div>
	<div id="dv-detail-walkscore" class="dv-report">
		<div class="report-content">
		</div>
	</div>
	<div class="button-panel">
		<a id="lnk-toggle-watch" class="open-eye-button-small stream-off" href="#">Stream</a>
		<a id="lnk-view-stream" class="button" href="#">View Stream</a>
		<a id="lnk-contact-agent" class="button" href="#">Contact Agent</a>
	</div>
	<div id="dv-property-report" class="dv-report">
		<div class="report-button clickable">
			<div class="open-sign">-</div>
			<span>Property Report</span>
		</div>
		<div class="report-content">
		</div>
	</div>
	<div id="dv-community-report" class="dv-report">
		<div class="report-button clickable">
			<div class="open-sign">+</div>
			<span>Community Report</span>
		</div>
		<div class="report-content">
		</div>
	</div>
	<div id="dv-school-report" class="dv-report">
		<div class="report-button clickable">
			<div class="open-sign">+</div>
			<span>School Report</span>
		</div>
		<div class="report-content">
		</div>
	</div>
</body>
</html>
